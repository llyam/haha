#!/bin/bash
time=`date +"%Y-%m-%d__%H:%M:%S"`
echo $time | tr '\n' ' '
total=`free -m | awk '$1=="Mem:" {printf("%sM %sM %0.2f", $2, $3, $3/$2*100)}'`
echo $total'%' | tr '\n' ' '
for i in $total; do
    ch=$3
done
echo "scale=1;0.3*$1+0.7$ch" | bc | tr '\n' '%'
echo ""

![2018-08-25 19-17-28屏幕截图](/home/haha/图片/2018-08-25 19-17-28屏幕截图.png)

#!/bin/bash
time=`date +"%Y-%m-%d_%H:%M:%S"`
num=`last | grep "[a-zA-Z]" |  grep -v "reboot" | grep -v "wtmp" | wc -l`
name=(`last | cut -d " " -f 1 | grep "[a-zA-Z0-9]"|grep -v "reboot" | grep -v "wtmp" | sort | uniq -c | awk '{if(NR<=3) print $2}'`)
ip=(`who | awk '{print $1"_"$5"_"$2}'`)
inum=`who -q | tail -n 1 |cut -d "=" -f 2-`
echo -n "$name $num [${name[0]},${name[1]},${name[2]}] ["
(( inum=$inum - 1 ))
for i in `seq 0 $inum`; do
    if [[ $i != 0 ]]; then
        echo ","
    fi
    echo -n ${ip[$i]} 
done
echo -n "]"

echo ""

船长回家后登不进去树莓派  

![2018-08-25 19-16-48屏幕截图](/home/haha/图片/2018-08-25 19-16-48屏幕截图.png)